From c517e4d1608f21ab61460de1b0b3c793d07d194c Mon Sep 17 00:00:00 2001
From: Peter Hutterer <peter.hutterer@who-t.net>
Date: Mon, 30 Jul 2012 14:17:56 +1000
Subject: [PATCH] Revert "Fix name and type_name for elographics"

This reverts commit 55f337f61fdcb2d7ec77ec42d1b8b700d467196e.

To maintain RHEL 6.0 behaviour, do not change the driver behaviour.

Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
---
 man/elographics.man |    3 +++
 src/xf86Elo.c       |    4 +++-
 2 files changed, 6 insertions(+), 1 deletion(-)

diff --git a/man/elographics.man b/man/elographics.man
index 32efda4..7ce590a 100644
--- a/man/elographics.man
+++ b/man/elographics.man
@@ -38,6 +38,9 @@ The following driver options are supported:
 The device that is attached to the touchscreen interface. Default is
 "/dev/ttyS1".
 .TP
+.BI "Option \*qDeviceName\*q \*q" string \*q
+Set the X11 device name for the touchscreen. Default is "TOUCHSCREEN".
+.TP
 .BI "Option \*qMinX\*q \*q" integer \*q
 Set the minimum value for the touchscreen X axis. Default is 600.
 .TP
diff --git a/src/xf86Elo.c b/src/xf86Elo.c
index d42ebec..759c3c7 100644
--- a/src/xf86Elo.c
+++ b/src/xf86Elo.c
@@ -892,7 +892,7 @@ xf86EloAllocate(InputDriverPtr drv, InputInfoPtr pInfo)
   pInfo->control_proc = NULL;
   pInfo->switch_mode  = NULL;
   pInfo->private      = priv;
-  pInfo->type_name    = XI_TOUCHSCREEN;
+  pInfo->type_name    = "Elographics TouchScreen";
 
   return Success;
 }
@@ -974,6 +974,8 @@ xf86EloInit(InputDriverPtr	drv,
       model++;
   }
 
+  pInfo->name = xf86SetStrOption(pInfo->options, "DeviceName", XI_TOUCHSCREEN);
+  xf86Msg(X_CONFIG, "Elographics X device name: %s\n", pInfo->name);
   priv->screen_no = xf86SetIntOption(pInfo->options, "ScreenNo", 0);
   xf86Msg(X_CONFIG, "Elographics associated screen: %d\n", priv->screen_no);
   priv->untouch_delay = xf86SetIntOption(pInfo->options, "UntouchDelay", ELO_UNTOUCH_DELAY);
-- 
1.7.10.4

